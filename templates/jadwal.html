<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Buat Jadwal Harian</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet"/>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f8f9fa;
      margin: 0;
      padding: 20px;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      background: #fff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .dashboard-nav {
      background-color: #ffffff;
      padding: 10px 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      margin-top: 20px;
    }
    .dashboard-nav ul {
      list-style: none;
      display: flex;
      gap: 20px;
      padding: 0;
      margin: 0;
      justify-content: center;
    }
    .dashboard-nav li {
      display: inline;
    }
    .dashboard-nav .nav-link {
      text-decoration: none;
      color: #2c3e50;
      font-weight: 600;
      display: flex;
      align-items: center;
    }
    .dashboard-nav .nav-link i {
      margin-right: 6px;
    }
    h2 {
      text-align: center;
      color: #2c3e50;
    }
    .step {
      display: none;
    }
    .step.active {
      display: block;
    }
    .question {
      font-weight: 600;
      margin-bottom: 10px;
    }
    .options button, .manual-input button {
      margin: 5px;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      background-color: #3498db;
      color: white;
      cursor: pointer;
    }
    .manual-input input {
      width: 100%;
      padding: 8px;
      margin-top: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    .result-box {
      margin-top: 20px;
      padding: 20px;
      background: #e8f5e9;
      border-left: 5px solid #2ecc71;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <nav class="dashboard-nav">
    <ul>
      <li><a href="/" class="nav-link"><i class="fas fa-home"></i> Dashboard</a></li>
      <li><a href="/index" class="nav-link"><i class="fas fa-chart-line"></i> Prediksi</a></li>
      <li><a href="/food" class="nav-link"><i class="fas fa-utensils"></i> Pola Makan</a></li>
      <li><a href="/jadwal" class="nav-link"><i class="fas fa-calendar-alt"></i> Jadwal</a></li>
      <li><a href="/statistik" class="nav-link"><i class="fas fa-chart-bar"></i> Statistik</a></li>
      <li><a href="/about" class="nav-link"><i class="fas fa-users"></i> Tentang</a></li>
    </ul>
  </nav>
  <br>
  <br>
  <div class="container">
    <h2>ðŸ§  Buat Jadwal Harianmu</h2>
    <form id="scheduleForm">
      <div id="stepsContainer"></div>
      <div class="result-box" id="result" style="display: none;"></div>
    </form>
  </div>



  <script>
    const timeslots = [
      { jam: "06:00 - 07:00", opsi: ["sarapan pagi", "lari pagi", "ke pasar", "beres-beres", "tidur"] },
      { jam: "07:00 - 09:00", opsi: ["istirahat", "belajar", "kerja", "nongkrong"] },
      { jam: "09:00 - 11:00", opsi: ["meeting", "bekerja", "beresin rumah", "belanja"] },
      { jam: "11:00 - 13:00", opsi: ["makan siang", "sholat", "istirahat", "ngobrol sama teman"] },
      { jam: "13:00 - 15:00", opsi: ["kerja", "scrolling sosmed", "belajar", "main game"] },
      { jam: "15:00 - 17:00", opsi: ["snack sore", "kerja", "olahraga", "membaca buku"] },
      { jam: "17:00 - 19:00", opsi: ["makan malam", "sholat maghrib", "bersantai", "keluar sebentar"] },
      { jam: "19:00 - 21:00", opsi: ["belajar", "me time", "nonton film", "kerja lembur"] },
      { jam: "21:00 - 23:59", opsi: ["tidur", "baca buku", "meditasi", "main HP"] }
    ];

    let currentStep = 0;
    let jawaban = [];

    const stepsContainer = document.getElementById('stepsContainer');

    function speak(text) {
      const speech = new SpeechSynthesisUtterance();
      speech.text = text;
      speech.lang = 'id-ID';
      speech.volume = 1;
      speech.rate = 1;
      speech.pitch = 1;
      window.speechSynthesis.speak(speech);
    }

    function renderStep(index) {
      stepsContainer.innerHTML = '';
      const slot = timeslots[index];
      const stepDiv = document.createElement('div');
      stepDiv.className = 'step active';

      stepDiv.innerHTML = `
        <div class="question">Jam ${slot.jam}, kamu mau ngapain?</div>
        <div class="options">
          ${slot.opsi.map(op => `<button type="button" onclick="selectJawaban('${op}')">${op}</button>`).join('')}
        </div>
        <div class="manual-input">
          <input type="text" id="manual_${index}" placeholder="Isi sendiri kegiatanmu...">
          <button type="button" onclick="selectManual(${index})">Gunakan Jawaban Manual</button>
        </div>
      `;
      stepsContainer.appendChild(stepDiv);
      speak(`Jam ${slot.jam}, kamu mau ngapain?`);
    }

    function selectJawaban(value) {
      jawaban.push(value);
      nextStep();
    }

    function selectManual(index) {
      const manualVal = document.getElementById(`manual_${index}`).value;
      if (manualVal.trim() === '') return alert('Masukkan aktivitasmu dulu.');
      jawaban.push(manualVal);
      nextStep();
    }

    function nextStep() {
      currentStep++;
      if (currentStep < timeslots.length) {
        renderStep(currentStep);
      } else {
        tampilkanHasil();
      }
    }

    function tampilkanHasil() {
      stepsContainer.style.display = 'none';
      const resultBox = document.getElementById('result');
      let output = '<h3>ðŸ“… Jadwal Harianmu:</h3><ul>';
      timeslots.forEach((slot, i) => {
        output += `<li><strong>${slot.jam}</strong> âž¤ ${jawaban[i]}</li>`;
      });
      output += '</ul>';
      resultBox.innerHTML = output;
      resultBox.style.display = 'block';
      speak("Jadwal harianmu sudah selesai. Semangat menjalani hari!");
    }

    // Render pertama kali saat halaman dimuat
    renderStep(currentStep);
  </script>
</body>
</html>
